<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Fenêtre de Tir</title>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        body { font-family: 'Source Sans Pro', sans-serif; background-color: #000; color: #fff; margin: 0; overflow: hidden; }
        .slide { width: 1280px; height: 720px; position: relative; /* NOUVEAU FOND POUR SLIDE 8 */
/* Image : Un tunnel de données abstrait avec un point focal lumineux au centre */
background: linear-gradient(rgba(10, 14, 39, 0.92), rgba(10, 14, 39, 0.92)),
            url('https://images.unsplash.com/photo-1558494949-ef010cbdcc31?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1280&q=80');background-size: cover; display: flex; flex-direction: column; padding: 40px 80px; box-sizing: border-box; }
        .header { margin-bottom: 30px; }
        .title { font-size: 48px; font-weight: 700; border-bottom: 4px solid #ff4d4d; display: inline-block; padding-bottom: 10px; }

        .content { display: flex; flex-direction: column; justify-content: center; height: 100%; }

        /* Chronologie Visuelle */
        .timeline-wrapper { position: relative; margin-bottom: 50px; }
        .timeline-bar { display: flex; height: 120px; border-radius: 10px; overflow: hidden; border: 2px solid #555; }

        .zone-safe { flex: 1; background: rgba(76, 175, 80, 0.2); display: flex; align-items: center; justify-content: center; font-size: 20px; color: #4CAF50; border-right: 2px solid #555; }
        .zone-danger { flex: 1.5; background: rgba(255, 77, 77, 0.2); display: flex; flex-direction: column; align-items: center; justify-content: center; color: #ff4d4d; position: relative; animation: pulse-red 2s infinite; }
        .zone-locked { flex: 1; background: rgba(255, 193, 7, 0.2); display: flex; align-items: center; justify-content: center; font-size: 20px; color: #FFC107; border-left: 2px solid #555; }

        /* Flèche d'impact */
        .impact-arrow { position: absolute; top: -60px; left: 50%; transform: translateX(-50%); display: flex; flex-direction: column; align-items: center; color: #fff; z-index: 10; }
        .impact-arrow i { font-size: 60px; color: #ff4d4d; margin-top: -10px; }
        .impact-label { background: #ff4d4d; padding: 5px 15px; border-radius: 5px; font-weight: bold; }

        /* Explications */
        .details-grid { display: flex; gap: 30px; }
        .detail-box { flex: 1; background: rgba(255,255,255,0.05); padding: 20px; border-radius: 10px; border-left: 4px solid #555; }
        .detail-title { font-size: 22px; font-weight: bold; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }

        @keyframes pulse-red { 0% { box-shadow: inset 0 0 20px rgba(255,0,0,0.2); } 50% { box-shadow: inset 0 0 50px rgba(255,0,0,0.6); } 100% { box-shadow: inset 0 0 20px rgba(255,0,0,0.2); } }
    </style>
</head>
<body>
    <div class="slide">
        <div class="header">
            <h1 class="title">LA FENÊTRE DE TIR</h1>
        </div>

        <div class="content">
            <div class="timeline-wrapper">
                <div class="impact-arrow">
                    <div class="impact-label">IMPACT MCE RETARDÉE</div>
                    <i class="material-icons">arrow_downward</i>
                </div>

                <div class="timeline-bar">
                    <div class="zone-safe">
                        <i class="material-icons" style="margin-right:10px">save</i>
                        Sauvegarde État
                    </div>
                    <div class="zone-danger">
                        <div style="font-size: 24px; font-weight: bold;">ZONE VULNÉRABLE</div>
                        <div style="font-size: 16px; margin-top: 5px;">SMM Actif + IDT Non-Sécurisée</div>
                    </div>
                    <div class="zone-locked">
                        <i class="material-icons" style="margin-right:10px">lock</i>
                        SMM Verrouillé
                    </div>
                </div>
            </div>

            <div class="details-grid">
                <div class="detail-box">
                    <div class="detail-title" style="color: #a7c7ff;">
                        <i class="material-icons">help_outline</i> Le Paradoxe
                    </div>
                    <div>Le processeur est en mode "Dieu" (Ring -2) mais lit encore le manuel d'instructions (IDT) du système d'exploitation normal.</div>
                </div>
                <div class="detail-box" style="border-color: #ff4d4d; background: rgba(255, 77, 77, 0.1);">
                    <div class="detail-title" style="color: #ff4d4d;">
                        <i class="material-icons">my_location</i> L'Objectif
                    </div>
                    <div>Si notre erreur (retardée par le PCIe) frappe <strong>exactement ici</strong>, le CPU exécute notre code avec les droits absolus.</div>
                </div>
            </div>
        </div>
    </div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- 1. AUTO-ZOOM ---
        function fitSlide() {
            const slide = document.querySelector('.slide');
            if (!slide) return;
            const baseWidth = 1280;
            const baseHeight = 720;
            const winWidth = window.innerWidth;
            const winHeight = window.innerHeight;
            const scale = Math.min(winWidth / baseWidth, winHeight / baseHeight);
            slide.style.transform = `scale(${scale})`;
            document.body.style.height = '100vh';
            document.body.style.margin = '0';
            document.body.style.display = 'flex';
            document.body.style.justifyContent = 'center';
            document.body.style.alignItems = 'center';
            document.body.style.overflow = 'hidden';
            document.body.style.backgroundColor = '#000';
        }
        fitSlide();
        window.addEventListener('resize', fitSlide);

        // --- 2. NAVIGATION (11 SLIDES) ---
        const slides = [
            'slide1.html',  // Intro
            'slide2.html',  // Cible SMM
            'slide3.html',  // Arme MCE
            'slide4.html',  // Brèche (Votre slide bonus)
            'slide5.html',  // Forge
            'slide6.html',  // Problème Timing
            'slide7.html',  // Solution PCIe
            'slide8.html',  // Fenêtre de Tir (Nouvelle)
            'slide9.html',  // Attaque Cross-Core
            'slide10.html', // Impact
            'slide11.html'  // Conclusion
        ];

        const path = window.location.pathname;
        const page = path.split("/").pop() || 'slide1.html';
        const currentIndex = slides.indexOf(decodeURIComponent(page));

        function goToSlide(direction) {
            let nextIndex = currentIndex + direction;
            if (nextIndex >= 0 && nextIndex < slides.length) {
                window.location.href = slides[nextIndex];
            }
        }

        document.addEventListener('keydown', (e) => {
            if (['ArrowRight', ' ', 'Enter'].includes(e.key)) goToSlide(1);
            if (e.key === 'ArrowLeft') goToSlide(-1);
        });

        const navStyle = "position:fixed; top:0; bottom:0; width:15%; z-index:9999; cursor:pointer;";
        const leftZone = document.createElement('div');
        leftZone.style.cssText = navStyle + "left:0;";
        leftZone.onclick = () => goToSlide(-1);

        const rightZone = document.createElement('div');
        rightZone.style.cssText = navStyle + "right:0;";
        rightZone.onclick = () => goToSlide(1);

        document.body.appendChild(leftZone);
        document.body.appendChild(rightZone);
    });
</script>
</body>
</html>
